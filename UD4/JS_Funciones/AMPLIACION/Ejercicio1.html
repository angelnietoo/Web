<!doctype html>
<html lang="es">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Ej1 - operar</title>
</head>

<body>
    <h2>Ejercicio 1 — operar(a, b, callback)</h2>
    A: <input id="a" type="number" value="5">
    B: <input id="b" type="number" value="3">
    <select id="op">
        <option value="sumar">Sumar</option>
        <option value="restar">Restar</option>
        <option value="multiplicar">Multiplicar</option>
        <option value="dividir">Dividir (inline)</option>
    </select>
    <button id="run">Ejecutar</button>
    <div id="out">Resultado: —</div>

    <script>
        function operar(a, b, callback) {
            if (typeof a !== 'number' || typeof b !== 'number') throw new TypeError('a y b deben ser números');
            if (typeof callback !== 'function') throw new TypeError('callback debe ser función');
            return callback(a, b);
        }
        const sumar = (x, y) => x + y;
        const restar = (x, y) => x - y;
        const multiplicar = (x, y) => x * y;

        document.getElementById('run').addEventListener('click', () => {
            const a = Number(document.getElementById('a').value);
            const b = Number(document.getElementById('b').value);
            const op = document.getElementById('op').value;
            const cb = op === 'sumar' ? sumar : op === 'restar' ? restar : op === 'multiplicar' ? multiplicar : (x, y) => x / y;
            try {
                const r = operar(a, b, cb);
                document.getElementById('out').textContent = `Resultado: ${r}`;
            } catch (e) {
                document.getElementById('out').textContent = `Error: ${e.message}`;
            }
        });
    </script>
</body>

</html>