<!doctype html>
<html lang="es">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Ejercicio 2 - operar</title>
    <link rel="stylesheet" href="CSS/styles.css">
</head>

<body>
    <main class="exercise">
        <h1>Ejercicio 2 — operar</h1>

        <div class="content">
            <p>Introduce dos números y elige la operación.</p>

            <label for="op_a">A:
                <input id="op_a" name="op_a" type="number" value="2" />
            </label>

            <label for="op_b">B:
                <input id="op_b" name="op_b" type="number" value="3" />
            </label>

            <label for="op_sel">Operación:
                <select id="op_sel" name="op_sel">
                    <option value="suma">Suma</option>
                    <option value="resta">Resta</option>
                    <option value="mul">Multiplicación</option>
                    <option value="suma_mul">Suma + Multiplicación</option>
                </select>
            </label>

            <pre id="out2" aria-live="polite">Salida...</pre>
        </div>

        <div class="actions">
            <button id="btn2" type="button">Calcular</button>
        </div>
    </main>
    <script>
        // Función principal que aplica la operación seleccionada
        function operar(a, b, operacion) {
            return operacion(a, b);
        }

        // Const de operaciones
        const suma = (x, y) => x + y;
        const resta = (x, y) => x - y;
        const multiplicacion = (x, y) => x * y;
        const suma_mul = (x, y) => (x + y) + (x * y);

        // Mapea la opción seleccionada
        const operaciones = {
            suma,
            resta,
            mul: multiplicacion,
            suma_mul
        };

        // Cogemos los elementos importantes
        const inputA = document.getElementById('op_a');
        const inputB = document.getElementById('op_b');
        const selectOp = document.getElementById('op_sel');
        const output = document.getElementById('out2');        // Contenedor de salida
        const btnCalcular = document.getElementById('btn2');

        // Botón calcular y valores a y b obtenidos
        btnCalcular.addEventListener('click', () => {
            const a = Number(inputA.value);
            const b = Number(inputB.value);

            // Vemos la función seleccionada y la aplicamos
            const fn = operaciones[selectOp.value] ?? suma;
            const res = operar(a, b, fn);

            // Mostrar resultado
            output.textContent = `Resultado: ${res}`;
        });
    </script>
</body>
</html>