<!doctype html>
<html lang="es">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>4b — Nombre mes y días</title>
    <style>
        body {
            font-family: system-ui, Roboto, Arial;
            display: flex;
            min-height: 100vh;
            align-items: center;
            justify-content: center;
            margin: 0;
            background: #f3f4f6
        }

        .box {
            background: #fff;
            padding: 14px;
            border-radius: 8px;
            box-shadow: 0 6px 18px rgba(2, 6, 23, .06);
            width: min(520px, 94vw)
        }

        input {
            padding: 8px;
            border-radius: 6px;
            border: 1px solid #e6eef9;
            width: 100%;
            margin-bottom: 8px
        }

        .row {
            display: flex;
            gap: 8px
        }

        button {
            padding: 8px 10px;
            border-radius: 6px;
            border: 0;
            background: #2563eb;
            color: #fff;
            cursor: pointer
        }

        .res {
            font-weight: 700;
            margin-top: 8px
        }

        .mut {
            color: #6b7280;
            font-size: 13px
        }
    </style>
</head>

<body>
    <div class="box">
        <h3 style="margin:0 0 8px">Nombre del mes y días (función mes,año)</h3>
        <input id="m" placeholder="Mes (1-12 o nombre, ej. 2 o febrero)" value="2">
        <input id="y" placeholder="Año (ej. 2024)" value="2024">
        <div class="row" style="margin-top:6px">
            <button id="run">Calcular</button>
            <button id="clr" style="background:#fff;color:#2563eb;border:1px solid rgba(37,99,235,.12)">Limpiar</button>
        </div>
        <div id="out" class="res">—</div>
        <div id="msg" class="mut"></div>
    </div>

    <script>
        // Nombres de los meses (enero = posición 0)
        const names = ['enero', 'febrero', 'marzo', 'abril', 'mayo', 'junio', 'julio', 'agosto', 'septiembre', 'octubre', 'noviembre', 'diciembre'];

        // Cogemos las cajas de la página para leer y mostrar datos
        const elM = document.getElementById('m'), // donde el usuario escribe el mes
            elY = document.getElementById('y'),   // donde el usuario escribe el año
            out = document.getElementById('out'), // aquí mostramos el resultado
            msg = document.getElementById('msg'); // aquí mostramos errores o avisos

        /**
         * parseMonth(v)
         * Toma lo que escribió el usuario y devuelve un mes en número (1-12).
         * - Acepta un número (por ejemplo "2") o un nombre (por ejemplo "febrero" o "feb").
         * - Si algo no encaja, avisa con un mensaje.
         */
        function parseMonth(v) {
            if (!v) throw 'Mes vacío';
            v = v.toString().trim().toLowerCase();

            // Si parece un número entero (p. ej. "2" o "-2"), lo usamos y comprobamos que esté entre 1 y 12
            if (/^-?\d+$/.test(v)) {
                const n = Math.abs(Number(v));
                if (n < 1 || n > 12) throw 'Mes fuera de rango';
                return n;
            }

            // Si escribió texto, buscamos un mes cuyo nombre empiece por lo que puso
            // Esto permite escribir abreviaturas como "feb" o "febr"
            const idx = names.findIndex(n => n.startsWith(v));
            if (idx === -1) throw 'Nombre de mes no reconocido';
            return idx + 1; // volvemos al sistema de 1..12
        }

        /**
         * daysInMonth(month, year)
         * Devuelve un objeto con:
         *  - name: nombre del mes con la primera letra en mayúscula
         *  - days: cuántos días tiene ese mes en el año indicado
         */
        function daysInMonth(month, year) {
            const m = parseMonth(month);         // obtener mes como número 1..12
            const y = Number(year);             // convertir año a número
            if (!Number.isInteger(y) || y < 1) throw 'Año inválido';

            // Nombre bonito: primera letra en mayúscula
            const name = names[m - 1][0].toUpperCase() + names[m - 1].slice(1);

            // Para saber los días usamos el calendario del navegador:
            // pedimos el último día del mes y ese número es la cantidad de días.
            const days = new Date(y, m, 0).getDate();

            return { name, days };
        }

        // Al pulsar "Calcular": intentamos obtener nombre y días, o mostramos error
        document.getElementById('run').onclick = () => {
            msg.textContent = ''; out.textContent = '—';
            try {
                const r = daysInMonth(elM.value, elY.value); // r tiene r.name y r.days
                out.textContent = `${r.name} — ${r.days} días`;
            } catch (e) {
                // Si algo no es correcto (mes no válido, año mal escrito...), se muestra aquí
                msg.textContent = e;
            }
        };

        // Al pulsar "Limpiar" dejamos todo como al principio
        document.getElementById('clr').onclick = () => {
            elM.value = ''; elY.value = ''; out.textContent = '—'; msg.textContent = '';
        };
    </script>
</body>

</html>